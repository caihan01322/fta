<!DOCTYPE html><html>

<head>
<meta charset="utf-8">
<title>${HTML_TITLE}</title>
<link rel="shortcut icon" href="${STATIC_URL}images/bk_fta_solutions.png" type="image/x-icon">
<link rel="stylesheet" type="text/css" href="${STATIC_URL}doc/css/style.css?v=${STATIC_VERSION}">

</head>
<body><div class="markdown-body">
<h2 id="toc_0">获取作业平台执行结果说明</h2>

<p>上下文传参（组合套餐中上一个步骤的输出作为下一个步骤的输入）的变量定义</p>

<h2 id="toc_1">1. 作业平台定义单行echo变量</h2>

<ul>
<li>1. 作业平台脚本中变量可以任意定义，在单行echo变量的时候引用即可，</li>
</ul>

<p><strong>其echo内容规则为：FTAARGV+变量名+冒号+脚本变量名</strong></p>

<ul>
<li><p>如：</p>

<pre><code>NOW=&quot;echo [\`$anynowtime\`][PID:$$]&quot;
echo &quot;FTAARGV return_X:$NOW&quot;
</code></pre></li>
<li><p>2.也可以多行echo变量给故障自愈获取，如：<br/>
<img src="${STATIC_URL}doc/images/14900205949080.jpg" alt=""/>￼</p></li>
</ul>

<h2 id="toc_2">2. 故障自愈中获取变量</h2>

<ul>
<li><p>1.在故障自愈中获取作业平台中echo结果，其规则为${u"${bpm_context|ijobs_变量名}"}</p>

<ul>
<li>如：获取案例1中$NOW值，在故障自愈步骤中引用${"${bpm_context|ijobs_return_X}"}即可</li>
</ul></li>
<li><p>2.故障自愈获取作业平台中多个变量值并组合</p>

<ul>
<li>如：获取案例2中的return_A，return_B,return_C,return_D发送短信，在故障自愈定义即可
<img src="${STATIC_URL}doc/images/14900206215796.jpg" alt=""/>￼</li>
</ul></li>
</ul>

</div></body>

</html>
