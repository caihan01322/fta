# -*- coding: utf-8 -*-
"""
Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community Edition) available.
Copyright (C) 2017-2018 THL A29 Limited, a Tencent company. All rights reserved.
Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
http://opensource.org/licenses/MIT
Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
""" # noqa
"""更新蓝鲸监控告警类型
2018-09-10
- 替换 False
- 替换 True
"""
from fta_solutions_app.models import AlarmType

MODEL = AlarmType


def RUNNER(apps, schema_editor, module, silent):  # noqa
    # 先删除所有的蓝鲸监控告警类型
    module.MODEL.objects.filter(source_type='ALERT').delete()
    for item in module.DATA:
        try:
            module.MODEL.objects.create(**item)
        except Exception:
            pass


DATA = [
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "可用物理内存",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "mem_60",
        "pattern": "mem_60",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "交换分区使用量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "mem_63",
        "pattern": "mem_63",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "物理内存使用率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "mem_64",
        "pattern": "mem_64",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "物理内存使用量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "mem_97",
        "pattern": "mem_97",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "应用内存使用量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "mem_98",
        "pattern": "mem_98",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "应用内存使用率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "mem_99",
        "pattern": "mem_99",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "CPU使用率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "process_122",
        "pattern": "process_122",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "内存使用率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "process_123",
        "pattern": "process_123",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "物理内存使用量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "process_124",
        "pattern": "process_124",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "虚拟内存使用量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "process_125",
        "pattern": "process_125",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "文件句柄数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "process_126",
        "pattern": "process_126",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "接收字节流量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_10",
        "pattern": "net_10",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "发送字节流量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_14",
        "pattern": "net_14",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "发送包速率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_16",
        "pattern": "net_16",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "接收包速率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_20",
        "pattern": "net_20",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "ESTABLISHED连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_110",
        "pattern": "net_110",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "TIME_WAIT连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_111",
        "pattern": "net_111",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "LISTEN连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_112",
        "pattern": "net_112",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "LAST_ACK连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_113",
        "pattern": "net_113",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "SYN_RECV连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_114",
        "pattern": "net_114",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "SYN_SENT连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_115",
        "pattern": "net_115",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "FIN_WAIT1连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_116",
        "pattern": "net_116",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "FIN_WAIT2连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_117",
        "pattern": "net_117",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "CLOSING连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_118",
        "pattern": "net_118",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "CLOSED状态连接数",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_119",
        "pattern": "net_119",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "UDP接收包量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_120",
        "pattern": "net_120",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "UDP发送包量",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "net_121",
        "pattern": "net_121",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "磁盘使用率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "disk_81",
        "pattern": "disk_81",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "读速率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "disk_86",
        "pattern": "disk_86",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "写速率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "disk_87",
        "pattern": "disk_87",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "磁盘IO使用率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "disk_96",
        "pattern": "disk_96",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "5分钟平均负载",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "cpu_3",
        "pattern": "cpu_3",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "CPU总使用率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "cpu_7",
        "pattern": "cpu_7",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "CPU单核使用率",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "cpu_8",
        "pattern": "cpu_8",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Agent心跳丢失",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "base_alarm_2",
        "pattern": "base_alarm_2",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "磁盘只读",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "base_alarm_3",
        "pattern": "base_alarm_3",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "磁盘写满",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "base_alarm_6",
        "pattern": "base_alarm_6",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Corefile产生",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "base_alarm_7",
        "pattern": "base_alarm_7",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "PING不可达告警",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "base_alarm_8",
        "pattern": "base_alarm_8",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "系统重新启动",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "system_env_os_restart",
        "pattern": "system_env_os_restart",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "进程端口",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "proc_port_proc_port",
        "pattern": "proc_port_proc_port",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "自定义字符型",
        "scenario": "主机监控",
        "exclude": "",
        "alarm_type": "gse_custom_event_gse_custom_event",
        "pattern": "gse_custom_event_gse_custom_event",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Apache",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "apache",
        "pattern": "apache",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "MySQL",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "mysql",
        "pattern": "mysql",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "NginX",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "nginx",
        "pattern": "nginx",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Redis",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "redis",
        "pattern": "redis",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "物理机",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "system",
        "pattern": "system",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Tomcat",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "tomcat",
        "pattern": "tomcat",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Active Directory",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "ad",
        "pattern": "ad",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Ceph",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "ceph",
        "pattern": "ceph",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Consul",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "consul",
        "pattern": "consul",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "ElasticSearch",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "elastic",
        "pattern": "elastic",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Exchange 2010",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "exchange2010",
        "pattern": "exchange2010",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "HAProxy",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "haproxy",
        "pattern": "haproxy",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "IIS",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "iis",
        "pattern": "iis",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Kafka",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "kafka",
        "pattern": "kafka",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "MemCache",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "memcache",
        "pattern": "memcache",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "MongoDB",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "mongodb",
        "pattern": "mongodb",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "SQLServer",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "mssql",
        "pattern": "mssql",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "Oracle",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "oracle",
        "pattern": "oracle",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "RabbitMQ",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "rabbitmq",
        "pattern": "rabbitmq",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "WebLogic",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "weblogic",
        "pattern": "weblogic",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "ZooKeeper",
        "scenario": "组件",
        "exclude": "",
        "alarm_type": "zookeeper",
        "pattern": "zookeeper",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "脚本采集",
        "scenario": "脚本采集",
        "exclude": "",
        "alarm_type": "selfscript",
        "pattern": "selfscript",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "自定义监控",
        "scenario": "自定义监控",
        "exclude": "",
        "alarm_type": "custom",
        "pattern": "custom",
        "is_hidden": False,
        "cc_biz_id": 0
    },
    {
        "is_enabled": True,
        "match_mode": 0,
        "source_type": "ALERT",
        "description": "服务拨测",
        "scenario": "服务拨测",
        "exclude": "",
        "alarm_type": "uptimecheck",
        "pattern": "uptimecheck",
        "is_hidden": False,
        "cc_biz_id": 0
    }
]
