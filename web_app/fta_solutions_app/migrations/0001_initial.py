# -*- coding: utf-8 -*-
"""
Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community Edition) available.
Copyright (C) 2017-2018 THL A29 Limited, a Tencent company. All rights reserved.
Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
http://opensource.org/licenses/MIT
Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
""" # noqa
from __future__ import unicode_literals

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Advice',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('advice_def_id', models.IntegerField(db_index=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801')),
                ('subject', models.CharField(max_length=128, verbose_name='\u8003\u5bdf\u5bf9\u8c61')),
                ('alarm_num', models.IntegerField(verbose_name='\u8003\u5bdf\u53d1\u73b0\u4e86\u591a\u5c11\u6761\u544a\u8b66')),
                ('alarm_start_time', models.DateField(verbose_name='\u8003\u5bdf\u7684\u8d77\u59cb\u65f6\u95f4')),
                ('alarm_end_time', models.DateField(verbose_name='\u8003\u5bdf\u7684\u7ed3\u675f\u65f6\u95f4')),
                ('status', models.CharField(max_length=32, verbose_name='\u4f18\u5316\u9879\u72b6\u6001')),
                ('comment', models.TextField(null=True, verbose_name='\u4f18\u5316\u9879\u7684\u5907\u6ce8', blank=True)),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='\u5efa\u8bae\u751f\u6210\u65f6\u95f4', db_index=True)),
                ('operator', models.CharField(max_length=128, null=True, verbose_name='\u6700\u540e\u4fee\u6539\u4eba', blank=True)),
                ('modify_time', models.DateTimeField(auto_now=True, verbose_name='\u6700\u540e\u4fee\u6539\u65f6\u95f4', null=True)),
            ],
        ),
        migrations.CreateModel(
            name='AdviceDef',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('codename', models.CharField(max_length=128, verbose_name='\u82f1\u6587\u540d\u79f0\u4ee3\u53f7')),
                ('description', models.TextField(verbose_name='\u63cf\u8ff0')),
                ('is_enabled', models.BooleanField(default=False, verbose_name='\u662f\u5426\u542f\u7528')),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801')),
                ('subject_type', models.CharField(max_length=64, verbose_name='\u8003\u5bdf\u5bf9\u8c61', choices=[(b'host', '\u4e3b\u673a'), (b'world', '\u5927\u533a')])),
                ('check_type', models.CharField(max_length=64, verbose_name='\u8003\u5bdf\u6570\u636e', choices=[(b'alarm', '\u544a\u8b66'), (b'incident', '\u6536\u655b\u4e8b\u4ef6')])),
                ('check_sub_type', models.CharField(max_length=128, verbose_name='\u8be6\u7ec6\u6570\u636e\u7c7b\u578b')),
                ('interval', models.IntegerField(verbose_name='\u8003\u5bdf\u65f6\u957f(\u5929)')),
                ('threshold', models.IntegerField(verbose_name='\u8003\u5bdf\u9600\u503c')),
                ('advice_type', models.CharField(max_length=64, verbose_name='\u5efa\u8bae\u7c7b\u578b', choices=[(b'hardware', '\u786c\u4ef6\u5f85\u4f18\u5316'), (b'ops', '\u8fd0\u7ef4\u5f85\u4f18\u5316'), (b'biz', '\u4e1a\u52a1\u5f85\u4f18\u5316'), (b'suspicious', '\u53ef\u7591\u5f85\u4f18\u5316')])),
                ('advice', models.TextField(verbose_name='\u5177\u4f53\u5efa\u8bae')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='\u521b\u5efa\u65f6\u95f4')),
            ],
        ),
        migrations.CreateModel(
            name='AlarmDef',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('is_enabled', models.BooleanField(default=False, verbose_name='\u662f\u5426\u542f\u7528')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='\u662f\u5426\u5220\u9664')),
                ('category', models.CharField(default=b'default', max_length=32, verbose_name='\u544a\u8b66\u7c7b\u578b', choices=[(b'default', '\u9ed8\u8ba4'), (b'DBA', 'DBA')])),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801', db_index=True)),
                ('alarm_type', models.CharField(max_length=128, verbose_name='\u544a\u8b66\u7c7b\u578b', choices=[(b'Faild_ping', 'ping\u4e0d\u53ef\u8fbe'), (b'Read_onlyDisk', '\u78c1\u76d8\u53ea\u8bfb'), (b'Agent_report_timeout', 'agent\u4e0a\u62a5\u8d85\u65f6'), (b'DiskUtilization', '\u78c1\u76d8\u5229\u7528\u7387'), (b'CPUUtilization', 'CPU\u5229\u7528\u7387'), (b'MemoryUtilization', '\u5185\u5b58\u4f7f\u7528\u91cf'), (b'Machine_restart', '\u673a\u5668\u91cd\u542f'), (b'PublicBandwidthHigh', '\u5916\u7f51\u5e26\u5bbd\u5360\u7528\u9ad8'), (b'DiskIOAwait', '\u78c1\u76d8IO\u7b49\u5f85'), (b'DiskReadTraffic', '\u78c1\u76d8\u8bfb\u6d41\u91cf'), (b'DiskWriteTraffic', '\u78c1\u76d8\u5199\u6d41\u91cf'), (b'PublicBandwidthIn', '\u5916\u7f51\u5165\u5e26\u5bbd'), (b'PublicBandwidthOut', '\u5916\u7f51\u51fa\u5e26\u5bbd'), (b'PublicPacketsIn', '\u5916\u7f51\u5165\u5305\u91cf'), (b'PublicPacketsOut', '\u5916\u7f51\u51fa\u5305\u91cf'), (b'PublicBandwidthUtilization', '\u5916\u7f51\u5e26\u5bbd\u4f7f\u7528\u7387'), (b'MemoryUtilization', '\u5185\u5b58\u5229\u7528\u7387'), (b'PrivateBandwidthIn', '\u5185\u7f51\u5165\u5e26\u5bbd'), (b'PrivateBandwidthOut', '\u5185\u7f51\u51fa\u5e26\u5bbd'), (b'PrivatePacketsIn', '\u5185\u7f51\u5165\u5305\u91cf'), (b'PrivatePacketsOut', '\u5185\u7f51\u51fa\u5305\u91cf'), (b'dockerCPUUtilization', 'docker\u96c6\u7fa4cpu\u5229\u7528\u7387'), (b'dockerMemoryUtilization', 'docker\u96c6\u7fa4\u5185\u5b58\u5229\u7528\u7387'), (b'cpu_3', '5\u5206\u949f\u5e73\u5747\u8d1f\u8f7d\uff08\u4e58\u4ee5100)'), (b'cpu_7', 'cpu\u603b\u4f7f\u7528\u7387'), (b'cpu_8', 'cpu\u5355\u6838\u4f7f\u7528\u7387'), (b'mem_98', '\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u5185\u5b58\u91cf'), (b'mem_64', '\u7269\u7406\u5185\u5b58\u4f7f\u7528\u7387'), (b'mem_97', '\u5df2\u7528\u7269\u7406\u5185\u5b58'), (b'net_10', '\u7f51\u5361\u5165\u6d41\u91cf'), (b'net_14', '\u7f51\u5361\u51fa\u6d41\u91cf'), (b'net_16', '\u7f51\u5361\u53d1\u5305\u91cf'), (b'net_20', '\u7f51\u5361\u6536\u5305\u91cf'), (b'disk_81', '\u5df2\u7528\u7a7a\u95f4\u5360\u6bd4'), (b'disk_86', '\u78c1\u76d8IO\u8bfb\u901f\u7387'), (b'disk_87', '\u78c1\u76d8IO\u5199\u901f\u7387'), (b'disk_96', '\u78c1\u76d8IO\u4f7f\u7528\u7387'), (b'BASE_ALARM_3', '\u78c1\u76d8\u53ea\u8bfb'), (b'BASE_ALARM_6', '\u78c1\u76d8\u5199\u6ee1'), (b'BASE_ALARM_7', 'Corefile\u4ea7\u751f'), (b'custom', '\u81ea\u5b9a\u4e49')])),
                ('tnm_attr_id', models.TextField(default=b'', null=True, verbose_name='TNM\u7279\u6027ID', blank=True)),
                ('reg', models.CharField(default=b'', max_length=255, null=True, verbose_name='\u6b63\u5219\u8fc7\u6ee4', blank=True)),
                ('process', models.CharField(default=b'', max_length=255, null=True, verbose_name='\u8fdb\u7a0b\u540d\u79f0', blank=True)),
                ('module', models.TextField(default=b'', verbose_name='Module', blank=True)),
                ('topo_set', models.TextField(default=b'', verbose_name='Set', blank=True)),
                ('set_attr', models.TextField(default=b'', verbose_name='Set\u5c5e\u6027', blank=True)),
                ('idc', models.TextField(default=b'', verbose_name='IDC', blank=True)),
                ('device_class', models.TextField(default=b'', verbose_name='DeviceClass', blank=True)),
                ('responsible', models.CharField(max_length=255, null=True, verbose_name='\u989d\u5916\u901a\u77e5\u4eba', blank=True)),
                ('title', models.CharField(max_length=128, null=True, verbose_name='\u5168\u540d', blank=True)),
                ('description', models.TextField(null=True, verbose_name='\u5907\u6ce8', blank=True)),
                ('ok_notify', models.BooleanField(default=True, verbose_name='\u6210\u529f\u540e\u662f\u5426\u901a\u77e5')),
                ('notify', models.TextField(default=b'{}', verbose_name='\u901a\u77e5\u914d\u7f6e')),
                ('solution_id', models.IntegerField(db_index=True, null=True, blank=True)),
                ('timeout', models.IntegerField(default=40, verbose_name='\u8d85\u65f6\u65f6\u957f')),
                ('source_type', models.CharField(default=b'ALERT', choices=[(b'ALERT', '\u84dd\u9cb8\u76d1\u63a7'), (b'QCLOUD', '\u817e\u8baf\u4e91\u76d1\u63a7')], max_length=32, blank=True, null=True, verbose_name='\u544a\u8b66\u6e90')),
                ('alarm_attr_id', models.CharField(max_length=128, null=True, verbose_name='\u544a\u8b66\u5728\u6765\u6e90\u7cfb\u7edf\u7684\u7279\u5f81ID', blank=True)),
                ('set_names', models.TextField(default=b'', help_text='\u53ea\u5728\u544a\u8b66\u914d\u7f6e\u5217\u8868\u9875\u9762\u505a\u5c55\u793a\u7528', verbose_name='Set\u540d\u79f0', blank=True)),
                ('module_names', models.TextField(default=b'', help_text='\u53ea\u5728\u544a\u8b66\u914d\u7f6e\u5217\u8868\u9875\u9762\u505a\u5c55\u793a\u7528', verbose_name='Module\u540d\u79f0', blank=True)),
            ],
        ),
        migrations.CreateModel(
            name='AlarmInstance',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('alarm_def_id', models.IntegerField(db_index=True)),
                ('source_type', models.CharField(max_length=32, null=True, verbose_name='\u544a\u8b66\u6e90', choices=[(b'ALERT', '\u84dd\u9cb8\u76d1\u63a7'), (b'QCLOUD', '\u817e\u8baf\u4e91\u76d1\u63a7')])),
                ('source_id', models.CharField(max_length=255, null=True, verbose_name='\u544a\u8b66\u6e90\u7cfb\u7edfid', db_index=True)),
                ('event_id', models.CharField(max_length=255, unique=True, null=True, verbose_name='\u544a\u8b66\u552f\u4e00id', db_index=True)),
                ('ip', models.CharField(max_length=30, null=True, verbose_name='ip, \u53ef\u7a7a\u7684', blank=True)),
                ('raw', models.TextField(verbose_name='\u539f\u59cb\u544a\u8b66\u4fe1\u606f')),
                ('status', models.CharField(default=b'received', choices=[(b'received', '\u6536\u5230'), (b'waiting', '\u5ba1\u6279\u4e2d'), (b'converging', '\u6536\u655b\u4e2d'), (b'sleep', '\u6536\u655b\u5904\u7406\u7b49\u5f85'), (b'converged', '\u6536\u655b\u7ed3\u675f'), (b'recovering', '\u5904\u7406\u4e2d'), (b'success', '\u6210\u529f'), (b'almost_success', '\u57fa\u672c\u6210\u529f'), (b'failure', '\u5931\u8d25'), (b'skipped', '\u8df3\u8fc7'), (b'for_notice', '\u8bf7\u5173\u6ce8'), (b'for_reference', '\u8bf7\u53c2\u8003'), (b'shield', '\u88ab\u5c4f\u853d'), (b'retrying', '\u91cd\u8bd5\u4e2d'), (b'authorized', '\u6388\u6743'), (b'unauthorized', '\u672a\u6388\u6743'), (b'checking', '\u9a8c\u6536\u4e2d')], max_length=30, blank=True, null=True, verbose_name='\u544a\u8b66\u5904\u7406\u72b6\u6001', db_index=True)),
                ('failure_type', models.CharField(blank=True, max_length=30, null=True, verbose_name='\u5931\u8d25\u539f\u56e0', choices=[(b'user_code_failure', '\u5904\u7406\u51fa\u9519\uff08\u672a\u5206\u7c7b\uff09'), (b'framework_code_failure', '\u81ea\u6108\u7cfb\u7edf\u5f02\u5e38'), (b'timeout', '\u8d85\u65f6'), (b'ijobs_failure', 'ijobs\u6267\u884c\u51fa\u9519'), (b'ijobs_create_failure', 'ijobs\u521b\u5efa\u5931\u8d25'), (b'uwork_failure', 'uwork\u8c03\u7528\u51fa\u9519'), (b'false_alarm', '\u8bef\u544a\u8b66'), (b'user_abort', '\u7528\u6237\u7ec8\u6b62\u6d41\u7a0b')])),
                ('bpm_task_id', models.CharField(max_length=30, null=True, verbose_name='handle_alarm\u6216\u8005solution\u7684task id', blank=True)),
                ('comment', models.TextField(null=True, verbose_name='\u5907\u6ce8', blank=True)),
                ('source_time', models.DateTimeField(db_index=True, null=True, verbose_name='\u544a\u8b66\u751f\u6210\u65f6\u95f4', blank=True)),
                ('finish_time', models.DateTimeField(null=True, verbose_name='\u544a\u8b66\u7ed3\u675f\u65f6\u95f4', blank=True)),
                ('begin_time', models.DateTimeField(auto_now_add=True, verbose_name='\u81ea\u6108\u5efa\u5355\u65f6\u95f4')),
                ('end_time', models.DateTimeField(null=True, verbose_name='\u81ea\u6108\u7ed3\u675f\u5904\u7406\u65f6\u95f4', blank=True)),
                ('level', models.IntegerField(default=1, verbose_name='\u544a\u8b66\u91cd\u8981\u7ea7\u522b', db_index=True)),
                ('priority', models.IntegerField(default=1, verbose_name='\u544a\u8b66\u5904\u7406\u961f\u5217\u4f18\u5148\u7ea7', db_index=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801', db_index=True)),
                ('alarm_type', models.CharField(db_index=True, max_length=128, verbose_name='\u544a\u8b66\u7c7b\u578b', choices=[(b'Faild_ping', 'ping\u4e0d\u53ef\u8fbe'), (b'Read_onlyDisk', '\u78c1\u76d8\u53ea\u8bfb'), (b'Agent_report_timeout', 'agent\u4e0a\u62a5\u8d85\u65f6'), (b'DiskUtilization', '\u78c1\u76d8\u5229\u7528\u7387'), (b'CPUUtilization', 'CPU\u5229\u7528\u7387'), (b'MemoryUtilization', '\u5185\u5b58\u4f7f\u7528\u91cf'), (b'Machine_restart', '\u673a\u5668\u91cd\u542f'), (b'PublicBandwidthHigh', '\u5916\u7f51\u5e26\u5bbd\u5360\u7528\u9ad8'), (b'DiskIOAwait', '\u78c1\u76d8IO\u7b49\u5f85'), (b'DiskReadTraffic', '\u78c1\u76d8\u8bfb\u6d41\u91cf'), (b'DiskWriteTraffic', '\u78c1\u76d8\u5199\u6d41\u91cf'), (b'PublicBandwidthIn', '\u5916\u7f51\u5165\u5e26\u5bbd'), (b'PublicBandwidthOut', '\u5916\u7f51\u51fa\u5e26\u5bbd'), (b'PublicPacketsIn', '\u5916\u7f51\u5165\u5305\u91cf'), (b'PublicPacketsOut', '\u5916\u7f51\u51fa\u5305\u91cf'), (b'PublicBandwidthUtilization', '\u5916\u7f51\u5e26\u5bbd\u4f7f\u7528\u7387'), (b'MemoryUtilization', '\u5185\u5b58\u5229\u7528\u7387'), (b'PrivateBandwidthIn', '\u5185\u7f51\u5165\u5e26\u5bbd'), (b'PrivateBandwidthOut', '\u5185\u7f51\u51fa\u5e26\u5bbd'), (b'PrivatePacketsIn', '\u5185\u7f51\u5165\u5305\u91cf'), (b'PrivatePacketsOut', '\u5185\u7f51\u51fa\u5305\u91cf'), (b'dockerCPUUtilization', 'docker\u96c6\u7fa4cpu\u5229\u7528\u7387'), (b'dockerMemoryUtilization', 'docker\u96c6\u7fa4\u5185\u5b58\u5229\u7528\u7387'), (b'cpu_3', '5\u5206\u949f\u5e73\u5747\u8d1f\u8f7d\uff08\u4e58\u4ee5100)'), (b'cpu_7', 'cpu\u603b\u4f7f\u7528\u7387'), (b'cpu_8', 'cpu\u5355\u6838\u4f7f\u7528\u7387'), (b'mem_98', '\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u5185\u5b58\u91cf'), (b'mem_64', '\u7269\u7406\u5185\u5b58\u4f7f\u7528\u7387'), (b'mem_97', '\u5df2\u7528\u7269\u7406\u5185\u5b58'), (b'net_10', '\u7f51\u5361\u5165\u6d41\u91cf'), (b'net_14', '\u7f51\u5361\u51fa\u6d41\u91cf'), (b'net_16', '\u7f51\u5361\u53d1\u5305\u91cf'), (b'net_20', '\u7f51\u5361\u6536\u5305\u91cf'), (b'disk_81', '\u5df2\u7528\u7a7a\u95f4\u5360\u6bd4'), (b'disk_86', '\u78c1\u76d8IO\u8bfb\u901f\u7387'), (b'disk_87', '\u78c1\u76d8IO\u5199\u901f\u7387'), (b'disk_96', '\u78c1\u76d8IO\u4f7f\u7528\u7387'), (b'BASE_ALARM_3', '\u78c1\u76d8\u53ea\u8bfb'), (b'BASE_ALARM_6', '\u78c1\u76d8\u5199\u6ee1'), (b'BASE_ALARM_7', 'Corefile\u4ea7\u751f'), (b'custom', '\u81ea\u5b9a\u4e49')])),
                ('solution_type', models.CharField(db_index=True, max_length=128, null=True, verbose_name='\u5957\u9910\u7c7b\u578b', choices=[(b'diy', '\u7ec4\u5408\u5957\u9910'), (b'collect', '\u6c47\u603b'), (b'ijobs', '\u4f5c\u4e1a\u5e73\u53f0'), (b'clean', '\u78c1\u76d8\u6e05\u7406\uff08\u4ec5\u9002\u7528\u4e8elinux\uff09'), (b'uwork', '\u817e\u8baf\u4e91\u91cd\u542f'), (b'uwork_then_ijobs', '\u817e\u8baf\u4e91\u91cd\u542f\u6267\u884c\u4f5c\u4e1a\u5e73\u53f0'), (b'get_bak_ip', '\u83b7\u53d6\u6545\u969c\u673a\u5907\u673a'), (b'notice', '\u901a\u77e5\u6216\u5ba1\u6279'), (b'sleep', '\u6682\u505c\u7b49\u5f85'), (b'bk_component', '\u76f4\u63a5\u8c03\u7528\u84dd\u9cb8\u7ec4\u4ef6'), (b'convergence', '\u81ea\u5b9a\u4e49\u6536\u655b\u9632\u5fa1'), (b'authorize', '\u81ea\u52a8\u6388\u6743'), (b'http', 'HTTP\u56de\u8c03'), (b'mark_almost_success', '\u6807\u8bb0\u4e3a\u57fa\u672c\u6210\u529f'), (b'switch_ip', '\u540e\u7eed\u5904\u7406\u5bf9\u8c61\u6545\u969c\u673a\u4e0e\u5907\u673a\u4e92\u6362'), (b'check_ping', '\u786e\u8ba4\u4e3b\u673aPing\u4e0d\u901a'), (b'analyze', '\u76f8\u5173\u4e8b\u4ef6\u5206\u6790')])),
                ('snap_alarm_def', models.TextField(null=True, verbose_name='json, alarm_def\u7684\u5b8c\u6574\u6570\u636e\u5feb\u7167', blank=True)),
                ('snap_solution', models.TextField(null=True, verbose_name='json, solution\u7684\u5b8c\u6574\u6570\u636e\u5feb\u7167', blank=True)),
                ('origin_alarm', models.TextField(null=True, verbose_name='\u544a\u8b66\u7684\u539f\u59cb\u5185\u5bb9')),
                ('cc_topo_set', models.CharField(db_index=True, max_length=128, verbose_name='CC\u5927\u533a', blank=True)),
                ('cc_app_module', models.CharField(db_index=True, max_length=128, verbose_name='CC\u6a21\u5757', blank=True)),
                ('inc_alarm_id', models.CharField(max_length=30, null=True, verbose_name='inc\u544a\u8b66ID', blank=True)),
                ('uwork_id', models.CharField(max_length=30, null=True, verbose_name='uwork\u544a\u8b66ID', blank=True)),
                ('approved_time', models.DateTimeField(null=True, verbose_name='\u5ba1\u6279\u6279\u793a\u65f6\u95f4', blank=True)),
                ('approved_user', models.CharField(max_length=128, null=True, verbose_name='\u6d41\u7a0b\u5ba1\u6279\u4eba', blank=True)),
                ('approved_comment', models.CharField(max_length=128, null=True, verbose_name='\u5ba1\u6279\u5907\u6ce8', blank=True)),
                ('tnm_alarm', models.TextField(null=True, verbose_name='tnm\u544a\u8b66', blank=True)),
                ('tnm_alarm_id', models.CharField(null=True, max_length=30, blank=True, unique=True, verbose_name='tnm\u544a\u8b66ID', db_index=True)),
            ],
        ),
        migrations.CreateModel(
            name='AlarmInstanceArchive',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('date', models.DateField(verbose_name='\u5f52\u603b\u65e5\u671f', db_index=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='CC\u4e1a\u52a1', db_index=True)),
                ('biz_team', models.CharField(max_length=128, verbose_name='CC\u4e1a\u52a1\u7ec4', db_index=True)),
                ('is_success', models.BooleanField(db_index=True, verbose_name='\u662f\u5426\u6210\u529f\u5904\u7406')),
                ('alarm_type', models.CharField(db_index=True, max_length=32, verbose_name='\u544a\u8b66\u7c7b\u578b', choices=[(b'Faild_ping', 'ping\u4e0d\u53ef\u8fbe'), (b'Read_onlyDisk', '\u78c1\u76d8\u53ea\u8bfb'), (b'Agent_report_timeout', 'agent\u4e0a\u62a5\u8d85\u65f6'), (b'DiskUtilization', '\u78c1\u76d8\u5229\u7528\u7387'), (b'CPUUtilization', 'CPU\u5229\u7528\u7387'), (b'MemoryUtilization', '\u5185\u5b58\u4f7f\u7528\u91cf'), (b'Machine_restart', '\u673a\u5668\u91cd\u542f'), (b'PublicBandwidthHigh', '\u5916\u7f51\u5e26\u5bbd\u5360\u7528\u9ad8'), (b'DiskIOAwait', '\u78c1\u76d8IO\u7b49\u5f85'), (b'DiskReadTraffic', '\u78c1\u76d8\u8bfb\u6d41\u91cf'), (b'DiskWriteTraffic', '\u78c1\u76d8\u5199\u6d41\u91cf'), (b'PublicBandwidthIn', '\u5916\u7f51\u5165\u5e26\u5bbd'), (b'PublicBandwidthOut', '\u5916\u7f51\u51fa\u5e26\u5bbd'), (b'PublicPacketsIn', '\u5916\u7f51\u5165\u5305\u91cf'), (b'PublicPacketsOut', '\u5916\u7f51\u51fa\u5305\u91cf'), (b'PublicBandwidthUtilization', '\u5916\u7f51\u5e26\u5bbd\u4f7f\u7528\u7387'), (b'MemoryUtilization', '\u5185\u5b58\u5229\u7528\u7387'), (b'PrivateBandwidthIn', '\u5185\u7f51\u5165\u5e26\u5bbd'), (b'PrivateBandwidthOut', '\u5185\u7f51\u51fa\u5e26\u5bbd'), (b'PrivatePacketsIn', '\u5185\u7f51\u5165\u5305\u91cf'), (b'PrivatePacketsOut', '\u5185\u7f51\u51fa\u5305\u91cf'), (b'dockerCPUUtilization', 'docker\u96c6\u7fa4cpu\u5229\u7528\u7387'), (b'dockerMemoryUtilization', 'docker\u96c6\u7fa4\u5185\u5b58\u5229\u7528\u7387'), (b'cpu_3', '5\u5206\u949f\u5e73\u5747\u8d1f\u8f7d\uff08\u4e58\u4ee5100)'), (b'cpu_7', 'cpu\u603b\u4f7f\u7528\u7387'), (b'cpu_8', 'cpu\u5355\u6838\u4f7f\u7528\u7387'), (b'mem_98', '\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u5185\u5b58\u91cf'), (b'mem_64', '\u7269\u7406\u5185\u5b58\u4f7f\u7528\u7387'), (b'mem_97', '\u5df2\u7528\u7269\u7406\u5185\u5b58'), (b'net_10', '\u7f51\u5361\u5165\u6d41\u91cf'), (b'net_14', '\u7f51\u5361\u51fa\u6d41\u91cf'), (b'net_16', '\u7f51\u5361\u53d1\u5305\u91cf'), (b'net_20', '\u7f51\u5361\u6536\u5305\u91cf'), (b'disk_81', '\u5df2\u7528\u7a7a\u95f4\u5360\u6bd4'), (b'disk_86', '\u78c1\u76d8IO\u8bfb\u901f\u7387'), (b'disk_87', '\u78c1\u76d8IO\u5199\u901f\u7387'), (b'disk_96', '\u78c1\u76d8IO\u4f7f\u7528\u7387'), (b'BASE_ALARM_3', '\u78c1\u76d8\u53ea\u8bfb'), (b'BASE_ALARM_6', '\u78c1\u76d8\u5199\u6ee1'), (b'BASE_ALARM_7', 'Corefile\u4ea7\u751f'), (b'custom', '\u81ea\u5b9a\u4e49')])),
                ('failure_type', models.CharField(db_index=True, max_length=32, null=True, verbose_name='\u5931\u8d25\u7c7b\u578b', choices=[(b'user_code_failure', '\u5904\u7406\u51fa\u9519\uff08\u672a\u5206\u7c7b\uff09'), (b'framework_code_failure', '\u81ea\u6108\u7cfb\u7edf\u5f02\u5e38'), (b'timeout', '\u8d85\u65f6'), (b'ijobs_failure', 'ijobs\u6267\u884c\u51fa\u9519'), (b'ijobs_create_failure', 'ijobs\u521b\u5efa\u5931\u8d25'), (b'uwork_failure', 'uwork\u8c03\u7528\u51fa\u9519'), (b'false_alarm', '\u8bef\u544a\u8b66'), (b'user_abort', '\u7528\u6237\u7ec8\u6b62\u6d41\u7a0b')])),
                ('solution_type', models.CharField(db_index=True, max_length=32, null=True, verbose_name='\u5957\u9910\u7c7b\u578b', choices=[(b'diy', '\u7ec4\u5408\u5957\u9910'), (b'collect', '\u6c47\u603b'), (b'ijobs', '\u4f5c\u4e1a\u5e73\u53f0'), (b'clean', '\u78c1\u76d8\u6e05\u7406\uff08\u4ec5\u9002\u7528\u4e8elinux\uff09'), (b'uwork', '\u817e\u8baf\u4e91\u91cd\u542f'), (b'uwork_then_ijobs', '\u817e\u8baf\u4e91\u91cd\u542f\u6267\u884c\u4f5c\u4e1a\u5e73\u53f0'), (b'get_bak_ip', '\u83b7\u53d6\u6545\u969c\u673a\u5907\u673a'), (b'notice', '\u901a\u77e5\u6216\u5ba1\u6279'), (b'sleep', '\u6682\u505c\u7b49\u5f85'), (b'bk_component', '\u76f4\u63a5\u8c03\u7528\u84dd\u9cb8\u7ec4\u4ef6'), (b'convergence', '\u81ea\u5b9a\u4e49\u6536\u655b\u9632\u5fa1'), (b'authorize', '\u81ea\u52a8\u6388\u6743'), (b'http', 'HTTP\u56de\u8c03'), (b'mark_almost_success', '\u6807\u8bb0\u4e3a\u57fa\u672c\u6210\u529f'), (b'switch_ip', '\u540e\u7eed\u5904\u7406\u5bf9\u8c61\u6545\u969c\u673a\u4e0e\u5907\u673a\u4e92\u6362'), (b'check_ping', '\u786e\u8ba4\u4e3b\u673aPing\u4e0d\u901a'), (b'analyze', '\u76f8\u5173\u4e8b\u4ef6\u5206\u6790')])),
                ('source_type', models.CharField(db_index=True, max_length=32, null=True, verbose_name='\u544a\u8b66\u6e90\u5934', choices=[(b'ALERT', '\u84dd\u9cb8\u76d1\u63a7'), (b'QCLOUD', '\u817e\u8baf\u4e91\u76d1\u63a7')])),
                ('is_off_time', models.BooleanField(db_index=True, verbose_name='\u662f\u5426\u5728\u975e\u5de5\u4f5c\u65f6\u95f4\u6bb5')),
                ('sub_count', models.PositiveIntegerField(default=0, verbose_name='\u5f52\u603b\u6570')),
                ('sub_consumed', models.PositiveIntegerField(default=0, verbose_name='\u5f52\u603b\u8017\u65f6')),
                ('sub_profit', models.IntegerField(default=0, verbose_name='\u5f52\u603b\u6536\u76ca')),
                ('created_on', models.DateTimeField(auto_now_add=True, verbose_name='\u7edf\u8ba1\u5f52\u6863\u65f6\u95f4')),
                ('updated_on', models.DateTimeField(auto_now=True, verbose_name='\u7edf\u8ba1\u66f4\u65b0\u65f6\u95f4')),
            ],
        ),
        migrations.CreateModel(
            name='AlarmInstanceBackup',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('alarm_def_id', models.IntegerField(db_index=True)),
                ('source_type', models.CharField(max_length=32, null=True, verbose_name='\u544a\u8b66\u6e90', choices=[(b'ALERT', '\u84dd\u9cb8\u76d1\u63a7'), (b'QCLOUD', '\u817e\u8baf\u4e91\u76d1\u63a7')])),
                ('source_id', models.CharField(max_length=255, null=True, verbose_name='\u544a\u8b66\u6e90\u7cfb\u7edfid', db_index=True)),
                ('event_id', models.CharField(max_length=255, unique=True, null=True, verbose_name='\u544a\u8b66\u552f\u4e00id', db_index=True)),
                ('ip', models.CharField(max_length=30, null=True, verbose_name='ip, \u53ef\u7a7a\u7684', blank=True)),
                ('raw', models.TextField(verbose_name='\u539f\u59cb\u544a\u8b66\u4fe1\u606f')),
                ('status', models.CharField(default=b'received', choices=[(b'received', '\u6536\u5230'), (b'waiting', '\u5ba1\u6279\u4e2d'), (b'converging', '\u6536\u655b\u4e2d'), (b'sleep', '\u6536\u655b\u5904\u7406\u7b49\u5f85'), (b'converged', '\u6536\u655b\u7ed3\u675f'), (b'recovering', '\u5904\u7406\u4e2d'), (b'success', '\u6210\u529f'), (b'almost_success', '\u57fa\u672c\u6210\u529f'), (b'failure', '\u5931\u8d25'), (b'skipped', '\u8df3\u8fc7'), (b'for_notice', '\u8bf7\u5173\u6ce8'), (b'for_reference', '\u8bf7\u53c2\u8003'), (b'shield', '\u88ab\u5c4f\u853d'), (b'retrying', '\u91cd\u8bd5\u4e2d'), (b'authorized', '\u6388\u6743'), (b'unauthorized', '\u672a\u6388\u6743'), (b'checking', '\u9a8c\u6536\u4e2d')], max_length=30, blank=True, null=True, verbose_name='\u544a\u8b66\u5904\u7406\u72b6\u6001', db_index=True)),
                ('failure_type', models.CharField(blank=True, max_length=30, null=True, verbose_name='\u5931\u8d25\u539f\u56e0', choices=[(b'user_code_failure', '\u5904\u7406\u51fa\u9519\uff08\u672a\u5206\u7c7b\uff09'), (b'framework_code_failure', '\u81ea\u6108\u7cfb\u7edf\u5f02\u5e38'), (b'timeout', '\u8d85\u65f6'), (b'ijobs_failure', 'ijobs\u6267\u884c\u51fa\u9519'), (b'ijobs_create_failure', 'ijobs\u521b\u5efa\u5931\u8d25'), (b'uwork_failure', 'uwork\u8c03\u7528\u51fa\u9519'), (b'false_alarm', '\u8bef\u544a\u8b66'), (b'user_abort', '\u7528\u6237\u7ec8\u6b62\u6d41\u7a0b')])),
                ('bpm_task_id', models.CharField(max_length=30, null=True, verbose_name='handle_alarm\u6216\u8005solution\u7684task id', blank=True)),
                ('comment', models.TextField(null=True, verbose_name='\u5907\u6ce8', blank=True)),
                ('source_time', models.DateTimeField(db_index=True, null=True, verbose_name='\u544a\u8b66\u751f\u6210\u65f6\u95f4', blank=True)),
                ('finish_time', models.DateTimeField(null=True, verbose_name='\u544a\u8b66\u7ed3\u675f\u65f6\u95f4', blank=True)),
                ('begin_time', models.DateTimeField(auto_now_add=True, verbose_name='\u81ea\u6108\u5efa\u5355\u65f6\u95f4')),
                ('end_time', models.DateTimeField(null=True, verbose_name='\u81ea\u6108\u7ed3\u675f\u5904\u7406\u65f6\u95f4', blank=True)),
                ('level', models.IntegerField(default=1, verbose_name='\u544a\u8b66\u91cd\u8981\u7ea7\u522b', db_index=True)),
                ('priority', models.IntegerField(default=1, verbose_name='\u544a\u8b66\u5904\u7406\u961f\u5217\u4f18\u5148\u7ea7', db_index=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801', db_index=True)),
                ('alarm_type', models.CharField(db_index=True, max_length=128, verbose_name='\u544a\u8b66\u7c7b\u578b', choices=[(b'Faild_ping', 'ping\u4e0d\u53ef\u8fbe'), (b'Read_onlyDisk', '\u78c1\u76d8\u53ea\u8bfb'), (b'Agent_report_timeout', 'agent\u4e0a\u62a5\u8d85\u65f6'), (b'DiskUtilization', '\u78c1\u76d8\u5229\u7528\u7387'), (b'CPUUtilization', 'CPU\u5229\u7528\u7387'), (b'MemoryUtilization', '\u5185\u5b58\u4f7f\u7528\u91cf'), (b'Machine_restart', '\u673a\u5668\u91cd\u542f'), (b'PublicBandwidthHigh', '\u5916\u7f51\u5e26\u5bbd\u5360\u7528\u9ad8'), (b'DiskIOAwait', '\u78c1\u76d8IO\u7b49\u5f85'), (b'DiskReadTraffic', '\u78c1\u76d8\u8bfb\u6d41\u91cf'), (b'DiskWriteTraffic', '\u78c1\u76d8\u5199\u6d41\u91cf'), (b'PublicBandwidthIn', '\u5916\u7f51\u5165\u5e26\u5bbd'), (b'PublicBandwidthOut', '\u5916\u7f51\u51fa\u5e26\u5bbd'), (b'PublicPacketsIn', '\u5916\u7f51\u5165\u5305\u91cf'), (b'PublicPacketsOut', '\u5916\u7f51\u51fa\u5305\u91cf'), (b'PublicBandwidthUtilization', '\u5916\u7f51\u5e26\u5bbd\u4f7f\u7528\u7387'), (b'MemoryUtilization', '\u5185\u5b58\u5229\u7528\u7387'), (b'PrivateBandwidthIn', '\u5185\u7f51\u5165\u5e26\u5bbd'), (b'PrivateBandwidthOut', '\u5185\u7f51\u51fa\u5e26\u5bbd'), (b'PrivatePacketsIn', '\u5185\u7f51\u5165\u5305\u91cf'), (b'PrivatePacketsOut', '\u5185\u7f51\u51fa\u5305\u91cf'), (b'dockerCPUUtilization', 'docker\u96c6\u7fa4cpu\u5229\u7528\u7387'), (b'dockerMemoryUtilization', 'docker\u96c6\u7fa4\u5185\u5b58\u5229\u7528\u7387'), (b'cpu_3', '5\u5206\u949f\u5e73\u5747\u8d1f\u8f7d\uff08\u4e58\u4ee5100)'), (b'cpu_7', 'cpu\u603b\u4f7f\u7528\u7387'), (b'cpu_8', 'cpu\u5355\u6838\u4f7f\u7528\u7387'), (b'mem_98', '\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u5185\u5b58\u91cf'), (b'mem_64', '\u7269\u7406\u5185\u5b58\u4f7f\u7528\u7387'), (b'mem_97', '\u5df2\u7528\u7269\u7406\u5185\u5b58'), (b'net_10', '\u7f51\u5361\u5165\u6d41\u91cf'), (b'net_14', '\u7f51\u5361\u51fa\u6d41\u91cf'), (b'net_16', '\u7f51\u5361\u53d1\u5305\u91cf'), (b'net_20', '\u7f51\u5361\u6536\u5305\u91cf'), (b'disk_81', '\u5df2\u7528\u7a7a\u95f4\u5360\u6bd4'), (b'disk_86', '\u78c1\u76d8IO\u8bfb\u901f\u7387'), (b'disk_87', '\u78c1\u76d8IO\u5199\u901f\u7387'), (b'disk_96', '\u78c1\u76d8IO\u4f7f\u7528\u7387'), (b'BASE_ALARM_3', '\u78c1\u76d8\u53ea\u8bfb'), (b'BASE_ALARM_6', '\u78c1\u76d8\u5199\u6ee1'), (b'BASE_ALARM_7', 'Corefile\u4ea7\u751f'), (b'custom', '\u81ea\u5b9a\u4e49')])),
                ('solution_type', models.CharField(db_index=True, max_length=128, null=True, verbose_name='\u5957\u9910\u7c7b\u578b', choices=[(b'diy', '\u7ec4\u5408\u5957\u9910'), (b'collect', '\u6c47\u603b'), (b'ijobs', '\u4f5c\u4e1a\u5e73\u53f0'), (b'clean', '\u78c1\u76d8\u6e05\u7406\uff08\u4ec5\u9002\u7528\u4e8elinux\uff09'), (b'uwork', '\u817e\u8baf\u4e91\u91cd\u542f'), (b'uwork_then_ijobs', '\u817e\u8baf\u4e91\u91cd\u542f\u6267\u884c\u4f5c\u4e1a\u5e73\u53f0'), (b'get_bak_ip', '\u83b7\u53d6\u6545\u969c\u673a\u5907\u673a'), (b'notice', '\u901a\u77e5\u6216\u5ba1\u6279'), (b'sleep', '\u6682\u505c\u7b49\u5f85'), (b'bk_component', '\u76f4\u63a5\u8c03\u7528\u84dd\u9cb8\u7ec4\u4ef6'), (b'convergence', '\u81ea\u5b9a\u4e49\u6536\u655b\u9632\u5fa1'), (b'authorize', '\u81ea\u52a8\u6388\u6743'), (b'http', 'HTTP\u56de\u8c03'), (b'mark_almost_success', '\u6807\u8bb0\u4e3a\u57fa\u672c\u6210\u529f'), (b'switch_ip', '\u540e\u7eed\u5904\u7406\u5bf9\u8c61\u6545\u969c\u673a\u4e0e\u5907\u673a\u4e92\u6362'), (b'check_ping', '\u786e\u8ba4\u4e3b\u673aPing\u4e0d\u901a'), (b'analyze', '\u76f8\u5173\u4e8b\u4ef6\u5206\u6790')])),
                ('snap_alarm_def', models.TextField(null=True, verbose_name='json, alarm_def\u7684\u5b8c\u6574\u6570\u636e\u5feb\u7167', blank=True)),
                ('snap_solution', models.TextField(null=True, verbose_name='json, solution\u7684\u5b8c\u6574\u6570\u636e\u5feb\u7167', blank=True)),
                ('origin_alarm', models.TextField(null=True, verbose_name='\u544a\u8b66\u7684\u539f\u59cb\u5185\u5bb9')),
                ('cc_topo_set', models.CharField(db_index=True, max_length=128, verbose_name='CC\u5927\u533a', blank=True)),
                ('cc_app_module', models.CharField(db_index=True, max_length=128, verbose_name='CC\u6a21\u5757', blank=True)),
                ('inc_alarm_id', models.CharField(max_length=30, null=True, verbose_name='inc\u544a\u8b66ID', blank=True)),
                ('uwork_id', models.CharField(max_length=30, null=True, verbose_name='uwork\u544a\u8b66ID', blank=True)),
                ('approved_time', models.DateTimeField(null=True, verbose_name='\u5ba1\u6279\u6279\u793a\u65f6\u95f4', blank=True)),
                ('approved_user', models.CharField(max_length=128, null=True, verbose_name='\u6d41\u7a0b\u5ba1\u6279\u4eba', blank=True)),
                ('approved_comment', models.CharField(max_length=128, null=True, verbose_name='\u5ba1\u6279\u5907\u6ce8', blank=True)),
                ('tnm_alarm', models.TextField(null=True, verbose_name='tnm\u544a\u8b66', blank=True)),
                ('tnm_alarm_id', models.CharField(null=True, max_length=30, blank=True, unique=True, verbose_name='tnm\u544a\u8b66ID', db_index=True)),
            ],
        ),
        migrations.CreateModel(
            name='AlarmInstanceLog',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('alarm_instance_id', models.IntegerField(db_index=True)),
                ('content', models.TextField(verbose_name='\u6b65\u9aa4\u8bb0\u5f55')),
                ('time', models.DateTimeField(auto_now=True, verbose_name='\u5907\u6ce8\u65f6\u95f4')),
                ('step_name', models.CharField(default=None, max_length=32, null=True, verbose_name='\u6b65\u9aa4\u540d')),
                ('level', models.SmallIntegerField(default=None, help_text=b'\xe5\x90\x8cpython logging level\xe5\xae\x9a\xe4\xb9\x89', null=True, verbose_name='\u4fe1\u606f\u7b49\u7ea7', choices=[(0, b'NOTSET'), (10, b'DEBUG'), (20, b'INFO'), (30, b'WARNING'), (40, b'ERROR'), (50, b'CRITICAL')])),
            ],
        ),
        migrations.CreateModel(
            name='ApproveCallback',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('obj_id', models.CharField(unique=True, max_length=255, verbose_name='\u5bf9\u8c61\u60df\u4e00ID', db_index=True)),
                ('alarm_id', models.IntegerField(verbose_name='\u544a\u8b66ID', db_index=True)),
                ('node_idx', models.IntegerField(verbose_name='\u8282\u70b9ID', db_index=True)),
                ('approval', models.IntegerField(verbose_name='\u5ba1\u6279\u72b6\u60011\u901a\u8fc7,0\u672a\u901a\u8fc7', choices=[(0, '\u672a\u901a\u8fc7'), (1, '\u901a\u8fc7')])),
                ('reason', models.CharField(max_length=255, null=True, verbose_name='\u901a\u8fc7\u6216\u672a\u901a\u8fc7\u7684\u539f\u56e0', blank=True)),
                ('approver', models.CharField(max_length=255, null=True, verbose_name='\u6267\u884c\u5ba1\u6279\u7684\u64cd\u4f5c\u4eba', blank=True)),
            ],
        ),
        migrations.CreateModel(
            name='BizConf',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('cc_biz_id', models.IntegerField(unique=True, verbose_name='\u4e1a\u52a1\u7f16\u7801', db_index=True)),
                ('responsible', models.CharField(max_length=512, null=True, verbose_name='\u8d23\u4efb\u4eba', blank=True)),
                ('tnm_servicegroup_id', models.IntegerField(unique=True, null=True, verbose_name='TNM\u4e1a\u52a1\u7ec4ID')),
                ('online_data_source_host', models.IPAddressField(default=None, null=True, blank=True)),
            ],
        ),
        migrations.CreateModel(
            name='Conf',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('name', models.CharField(help_text='\u5207\u52ff\u968f\u610f\u4fee\u6539\u6b64\u9879', unique=True, max_length=100, verbose_name='\u914d\u7f6e\u9879\u540d')),
                ('value', models.TextField(help_text='\u6570\u636e\u5185\u5bb9', verbose_name='\u914d\u7f6e\u9879\u53c2\u6570\u503c')),
            ],
            options={
                'verbose_name': '\u914d\u7f6e\u9879',
                'verbose_name_plural': '\u914d\u7f6e\u9879',
            },
        ),
        migrations.CreateModel(
            name='Context',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('key', models.CharField(max_length=128, verbose_name='KEY', db_index=True)),
                ('field', models.CharField(max_length=128, verbose_name='\u53d8\u91cf\u540d')),
                ('value', models.TextField(verbose_name='\u503c')),
                ('created_on', models.DateTimeField(auto_now_add=True, verbose_name='\u521b\u5efa\u65f6\u95f4', null=True)),
                ('updated_on', models.DateTimeField(auto_now=True, null=True, verbose_name='\u66f4\u65b0\u65f6\u95f4', db_index=True)),
            ],
        ),
        migrations.CreateModel(
            name='DataChanglog',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('change_model', models.CharField(max_length=100, verbose_name='\u4fee\u6539\u7684\u6570\u636e\u8868')),
                ('change_id', models.IntegerField(verbose_name='\u4fee\u6539\u7684\u6570\u636e\u9879id')),
                ('change_time', models.DateTimeField(auto_now_add=True, verbose_name='\u4fee\u6539\u65f6\u95f4')),
                ('change_type', models.CharField(max_length=20, verbose_name='\u4fee\u6539\u7c7b\u578b', choices=[(b'create', '\u521b\u5efa'), (b'delete', '\u5220\u9664'), (b'update', '\u66f4\u65b0')])),
                ('new', models.TextField(help_text='\u66f4\u6539\u540e\u7684\u6570\u636e\u5185\u5bb9', null=True, verbose_name='\u65b0\u6570\u636e', blank=True)),
                ('username', models.CharField(max_length=100, verbose_name='\u4fee\u6539\u4eba')),
            ],
            options={
                'verbose_name': '\u6570\u636e\u4fee\u6539\u65e5\u5fd7',
                'verbose_name_plural': '\u6570\u636e\u4fee\u6539\u65e5\u5fd7',
            },
        ),
        migrations.CreateModel(
            name='EagleEye',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('incident_id', models.IntegerField(verbose_name='\u81ea\u6108\u4e8b\u4ef6id', db_index=True)),
                ('eagle_eye_orderno', models.CharField(max_length=128, verbose_name='\u9e70\u773c\u544a\u8b66\u5355\u53f7', db_index=True)),
                ('data_type', models.CharField(max_length=32, null=True, verbose_name='\u6570\u636e\u7c7b\u578b')),
            ],
        ),
        migrations.CreateModel(
            name='IgnoreAlarm',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801(0\u8868\u793a\u5168\u4e1a\u52a1)')),
                ('alarm_type', models.CharField(max_length=255, null=True, verbose_name='\u544a\u8b66\u7c7b\u578b(TNM)', blank=True)),
                ('attr_id', models.CharField(max_length=512, null=True, verbose_name='\u7279\u6027ID', blank=True)),
                ('cc_module', models.CharField(max_length=512, null=True, verbose_name='\u544a\u8b66\u6a21\u5757(TNM)\uff0c \u591a\u4e2a\u53ef\u4f7f\u7528,\u5206\u5272', blank=True)),
                ('note', models.TextField(help_text='\u4e0d\u5173\u6ce8\u7684\u539f\u56e0\u8bf4\u660e', verbose_name='\u5907\u6ce8')),
            ],
        ),
        migrations.CreateModel(
            name='Incident',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('is_visible', models.BooleanField(default=True, verbose_name='\u662f\u5426\u53ef\u89c1')),
                ('incident_def_id', models.IntegerField(db_index=True)),
                ('incident_type', models.CharField(choices=[(b'network-attack', '\u7f51\u7edc\u653b\u51fb'), (b'network-quality', '\u7f51\u7edc\u6545\u969c'), (b'host-quality', '\u5355\u673a\u6545\u969c'), (b'analyze', '\u9884\u8bca\u65ad'), (b'collect_alarm', '\u6c47\u603b\u901a\u77e5'), (b'collect', '\u6c47\u603b\u901a\u77e5(\u82af\u96f2\u7248)'), (b'defense', '\u5f02\u5e38\u9632\u5fa1'), (b'defence', '\u5f02\u5e38\u9632\u5fa1(\u82af\u96f2\u7248)'), (b'convergence', '\u544a\u8b66\u6536\u655b'), (b'skip', '\u6210\u529f\u8df3\u8fc7'), (b'skip_approve', '\u5ba1\u6279\u8df3\u8fc7'), (b'pass', '\u6267\u884c\u8df3\u8fc7'), (b'relevance', '\u4e8b\u4ef6\u6c47\u96c6'), (b'trigger', '\u6536\u655b\u89e6\u53d1'), (b'universality', '\u5171\u6027\u5206\u6790')], max_length=128, blank=True, null=True, verbose_name='\u4e8b\u4ef6\u7c7b\u578b', db_index=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801', db_index=True)),
                ('dimension', models.CharField(unique=True, max_length=128, verbose_name='\u6536\u655b\u7ef4\u5ea6', db_index=True)),
                ('description', models.TextField(verbose_name='\u63cf\u8ff0')),
                ('content', models.TextField(verbose_name='\u5185\u5bb9')),
                ('detail', models.TextField(null=True, verbose_name='\u8be6\u60c5', blank=True)),
                ('last_check_time', models.DateTimeField(auto_now_add=True, verbose_name='\u6700\u8fd1\u4e00\u6b21\u68c0\u67e5\u65f6\u95f4')),
                ('begin_time', models.DateTimeField(auto_now_add=True, verbose_name='\u4e8b\u4ef6\u5f00\u59cb\u65f6\u95f4', db_index=True)),
                ('end_time', models.DateTimeField(null=True, verbose_name='\u4e8b\u4ef6\u7ed3\u675f\u65f6\u95f4', blank=True)),
                ('notify_status', models.CharField(blank=True, max_length=4, null=True, verbose_name='\u6d88\u606f\u63d0\u9192\u72b6\u6001', choices=[(b'sent', '\u5df2\u53d1\u9001'), (b'new', '\u5c1a\u672a\u53d1\u9001'), (b'', '\u65e0\u5185\u5bb9')])),
            ],
        ),
        migrations.CreateModel(
            name='IncidentAlarm',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('incident_id', models.IntegerField(db_index=True)),
                ('alarm_id', models.IntegerField(db_index=True)),
                ('is_primary', models.BooleanField(default=False, verbose_name='\u4e3b\u8981\u544a\u8b66')),
            ],
        ),
        migrations.CreateModel(
            name='IncidentDef',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('is_enabled', models.BooleanField(default=False, verbose_name='\u662f\u5426\u542f\u7528')),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801')),
                ('codename', models.CharField(max_length=128, verbose_name='\u82f1\u6587\u540d\u79f0\u4ee3\u53f7')),
                ('rule', models.TextField(default=b'{}', verbose_name='\u6536\u655b\u89c4\u5219(JSON)')),
                ('description', models.TextField(verbose_name='\u89c4\u5219\u7b80\u4ecb')),
                ('exclude', models.TextField(null=True, verbose_name='\u6392\u9664\u7684\u4e1a\u52a1', blank=True)),
                ('priority', models.IntegerField(default=100, verbose_name='\u4f18\u5148\u7ea7')),
            ],
        ),
        migrations.CreateModel(
            name='IncOrder',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('inc_orderno', models.CharField(unique=True, max_length=255, verbose_name='INC\u5355\u53f7')),
                ('alarm_id', models.IntegerField(verbose_name='\u544a\u8b66ID')),
                ('push_type', models.CharField(max_length=255, verbose_name='\u63a8\u9001\u5230INC\u7684\u7c7b\u578b', choices=[(b'single', '\u5355\u6761\u544a\u8b66'), (b'universality', '\u5171\u6027\u544a\u8b66')])),
            ],
        ),
        migrations.CreateModel(
            name='IncRelatedAlarm',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('orderno', models.CharField(unique=True, max_length=255, verbose_name='\u9e70\u773c\u5355\u53f7')),
                ('trigger_orderno', models.CharField(max_length=255, verbose_name='\u6570\u636e\u6e90\u9884\u8b66\u5355\u5355\u53f7')),
                ('product_id', models.CharField(max_length=255, verbose_name='\u53d7\u5f71\u54cd\u7684\u4e1a\u52a1ID')),
                ('server_ip', models.CharField(default=b'', max_length=255, null=True, verbose_name='\u544a\u8b66\u670d\u52a1\u5668IP\uff0c\u5982\u65e0\u5219\u4e3a\u7a7a')),
                ('category_id', models.IntegerField(default=3, verbose_name='\u5728\u9e70\u773c\u4e0a\u7684\u5206\u7c7b')),
                ('archive', models.CharField(max_length=255, verbose_name='\u4e8c\u7ea7\u5206\u7c7b:\u544a\u8b66\u6e90\u81ea\u5b9a\u4e49\u7684\u5206\u7c7b', db_index=True)),
                ('level', models.IntegerField(default=1, verbose_name='\u544a\u8b66\u7ea7\u522b')),
                ('trigger_start_time', models.DateTimeField(verbose_name='\u544a\u8b66\u89e6\u53d1\u65f6\u95f4', db_index=True)),
                ('trigger_end_time', models.DateTimeField(default=b'', null=True, verbose_name='\u544a\u8b66\u89e3\u9664\u65f6\u95f4')),
                ('content', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u544a\u8b66\u5185\u5bb9')),
                ('affect', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u5f71\u54cd\u8303\u56f4')),
                ('strategy', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u54cd\u5e94\u7b56\u7565')),
                ('remark', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u5907\u6ce8')),
                ('url', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u544a\u8b66\u8be6\u60c5url')),
                ('responsible_people', models.CharField(default=b'', max_length=512, verbose_name='\u8d1f\u8d23\u4eba\u5458')),
                ('trigger_fault', models.IntegerField(default=0, verbose_name='\u662f\u5426\u76f4\u63a5\u8f6c\u6545\u969c')),
                ('trigger_description', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u8f6c\u6545\u969c\u63cf\u8ff0')),
                ('ticket_type', models.IntegerField(default=0, null=True, verbose_name='\u4e8b\u4ef6\u5355\u7c7b\u578bID')),
                ('ticket_name', models.CharField(default=b'', max_length=255, null=True, verbose_name='\u4e8b\u4ef6\u5355\u7c7b\u578b')),
                ('ticket_no', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u4e8b\u4ef6\u5355\u53f7')),
                ('ticket_url', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u4e8b\u4ef6\u5355URL')),
                ('ticket_description', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u4e8b\u4ef6\u5355\u63cf\u8ff0')),
                ('ticket_reason', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u4e8b\u4ef6\u5355\u539f\u56e0')),
                ('ticket_summary', models.CharField(default=b'', max_length=512, null=True, verbose_name='\u4e8b\u4ef6\u5355\u603b\u7ed3')),
                ('status', models.IntegerField(default=0, null=True, verbose_name='\u72b6\u6001', choices=[(0, '\u5f85\u786e\u8ba4'), (1, '\u5df2\u786e\u8ba4')])),
            ],
        ),
        migrations.CreateModel(
            name='KPICache',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('date', models.DateField(verbose_name='KPI\u7684\u65e5\u671f', db_index=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='CC\u4e1a\u52a1', db_index=True)),
                ('kpi_type', models.PositiveIntegerField(default=30, verbose_name='KPI\u6d6e\u52a8\u65f6\u95f4\u6bb5\u533a\u95f4', choices=[(30, '\u4e00\u4e2a\u6708\u6d6e\u52a8'), (15, '\u534a\u4e2a\u6708\u6d6e\u52a8'), (7, '\u4e00\u5468\u6d6e\u52a8'), (1, '\u4e00\u5929\u6d6e\u52a8')])),
                ('tnm_total', models.PositiveIntegerField(default=0, verbose_name='TNM\u544a\u8b66\u603b\u6570')),
                ('tnm_covered', models.PositiveIntegerField(default=0, verbose_name='TNM\u63a5\u5165\u6570')),
                ('tnm_success', models.PositiveIntegerField(default=0, verbose_name='\u63a5\u5165\u4e2d\u6210\u529f\u7684\u4e2a\u6570')),
            ],
        ),
        migrations.CreateModel(
            name='OutOfScopeArchive',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('date', models.DateField(verbose_name='\u5f52\u603b\u65e5\u671f', db_index=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='CC\u4e1a\u52a1', db_index=True)),
                ('alarm_type', models.CharField(max_length=255, verbose_name='\u544a\u8b66\u7c7b\u578b', db_index=True)),
                ('attr_id', models.IntegerField(null=True, verbose_name='\u7279\u6027ID', db_index=True)),
                ('cc_module', models.CharField(max_length=128, null=True, verbose_name='\u544a\u8b66\u6a21\u5757', db_index=True)),
                ('operator', models.CharField(max_length=64, null=True, verbose_name='\u544a\u8b66\u8d1f\u8d23\u4eba', db_index=True)),
                ('noc', models.SmallIntegerField(null=True, verbose_name='\u662f\u5426\u63a5\u5165uwork', db_index=True)),
                ('sub_count', models.PositiveIntegerField(default=0, verbose_name='\u5f52\u603b\u6570')),
                ('alarm_id_list', models.TextField(null=True, verbose_name='\u6240\u6709\u544a\u8b66id\u7684\u5217\u8868\uff0c\u65b9\u4fbf\u5feb\u901f\u5bfc\u51fa, \u7528\u9017\u53f7\u5206\u9694', blank=True)),
            ],
        ),
        migrations.CreateModel(
            name='QcloudOwnerInfo',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('owner_uin', models.CharField(unique=True, max_length=50)),
                ('qcloud_app_id', models.CharField(max_length=50)),
            ],
        ),
        migrations.CreateModel(
            name='Solution',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801', db_index=True)),
                ('solution_type', models.CharField(default=b'customized', max_length=128, verbose_name='\u5957\u9910\u7c7b\u578b', choices=[(b'diy', '\u7ec4\u5408\u5957\u9910'), (b'collect', '\u6c47\u603b'), (b'ijobs', '\u4f5c\u4e1a\u5e73\u53f0'), (b'clean', '\u78c1\u76d8\u6e05\u7406\uff08\u4ec5\u9002\u7528\u4e8elinux\uff09'), (b'uwork', '\u817e\u8baf\u4e91\u91cd\u542f'), (b'uwork_then_ijobs', '\u817e\u8baf\u4e91\u91cd\u542f\u6267\u884c\u4f5c\u4e1a\u5e73\u53f0'), (b'get_bak_ip', '\u83b7\u53d6\u6545\u969c\u673a\u5907\u673a'), (b'notice', '\u901a\u77e5\u6216\u5ba1\u6279'), (b'sleep', '\u6682\u505c\u7b49\u5f85'), (b'bk_component', '\u76f4\u63a5\u8c03\u7528\u84dd\u9cb8\u7ec4\u4ef6'), (b'convergence', '\u81ea\u5b9a\u4e49\u6536\u655b\u9632\u5fa1'), (b'authorize', '\u81ea\u52a8\u6388\u6743'), (b'http', 'HTTP\u56de\u8c03'), (b'mark_almost_success', '\u6807\u8bb0\u4e3a\u57fa\u672c\u6210\u529f'), (b'switch_ip', '\u540e\u7eed\u5904\u7406\u5bf9\u8c61\u6545\u969c\u673a\u4e0e\u5907\u673a\u4e92\u6362'), (b'check_ping', '\u786e\u8ba4\u4e3b\u673aPing\u4e0d\u901a'), (b'analyze', '\u76f8\u5173\u4e8b\u4ef6\u5206\u6790')])),
                ('codename', models.CharField(max_length=128, null=True, verbose_name='\u82f1\u6587\u540d\u79f0\u4ee3\u53f7', blank=True)),
                ('title', models.CharField(max_length=512, verbose_name='\u5168\u540d')),
                ('config', models.TextField(null=True, verbose_name='\u914d\u7f6e(JSON)', blank=True)),
                ('creator', models.CharField(max_length=255, verbose_name='\u521b\u5efa\u8005')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='\u521b\u5efa\u65f6\u95f4')),
                ('create_user', models.CharField(max_length=32, verbose_name='\u521b\u5efa\u4eba')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='\u4fee\u6539\u65f6\u95f4')),
                ('update_user', models.CharField(max_length=32, verbose_name='\u4fee\u6539\u4eba')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='\u662f\u5426\u5220\u9664')),
            ],
        ),
        migrations.CreateModel(
            name='UserBiz',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('username', models.CharField(unique=True, max_length=255, verbose_name='\u7528\u6237')),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801')),
            ],
        ),
        migrations.CreateModel(
            name='World',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('is_enabled', models.BooleanField(default=True, verbose_name='\u662f\u5426\u542f\u7528')),
                ('cc_biz_id', models.IntegerField(verbose_name='\u4e1a\u52a1\u7f16\u7801', db_index=True)),
                ('cc_set_name', models.CharField(max_length=30, verbose_name='CC set \u540d')),
                ('cc_set_chn_name', models.CharField(max_length=30, verbose_name='CC set \u4e2d\u6587\u540d')),
                ('world_id', models.CharField(max_length=30, verbose_name='\u5927\u533aID')),
                ('tnm_attr_id', models.CharField(max_length=30, null=True, verbose_name='TNM2 \u5728\u7ebf attr id', blank=True)),
                ('tnm_attr_name', models.CharField(max_length=255, null=True, verbose_name='TNM2 \u5728\u7ebf attr name', blank=True)),
                ('comment', models.TextField(null=True, verbose_name='\u5907\u6ce8', blank=True)),
                ('online_data_source_host', models.IPAddressField(null=True, blank=True)),
            ],
        ),
        migrations.AlterUniqueTogether(
            name='outofscopearchive',
            unique_together=set([('date', 'cc_biz_id', 'alarm_type', 'attr_id', 'cc_module', 'operator', 'noc')]),
        ),
        migrations.AlterUniqueTogether(
            name='kpicache',
            unique_together=set([('date', 'cc_biz_id', 'kpi_type')]),
        ),
        migrations.AlterUniqueTogether(
            name='incorder',
            unique_together=set([('alarm_id', 'push_type')]),
        ),
        migrations.AlterUniqueTogether(
            name='incidentdef',
            unique_together=set([('cc_biz_id', 'codename')]),
        ),
        migrations.AlterUniqueTogether(
            name='incidentalarm',
            unique_together=set([('incident_id', 'alarm_id')]),
        ),
        migrations.AlterUniqueTogether(
            name='context',
            unique_together=set([('key', 'field')]),
        ),
        migrations.AlterUniqueTogether(
            name='alarminstancearchive',
            unique_together=set([('date', 'cc_biz_id', 'biz_team', 'is_success', 'alarm_type', 'failure_type', 'solution_type', 'source_type', 'is_off_time')]),
        ),
    ]
